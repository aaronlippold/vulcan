<div class="row">
    <div class="col-lg-12">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><%= @project.name %> Controls</h4>
            <table id="project-controls-datatable" class="table table-striped table-bordered toggle-circle m-b-0" data-page-size="7">
                <thead>
                    <tr>
                        <th>Applicability</th>
                        <th>Title</th>
                        <th>Impact </th>
                        <th>Nist Families</th>
                        <th>Edit</th>
                    </tr>
                </thead>
                <div class="form-inline m-b-20">
                    <div class="row">
                        <div class="col-md-6 text-center text-right">
                            <input id="project-controls-search" type="text" placeholder="Search" class="form-control" autocomplete="on">
                        </div>
                    </div>
                </div>
                <tbody>
                    <% counter = 0 %>
                    <% @project.project_controls.each do |project_control| %>
                      <tr>
                          <% if project_control.status.nil? %>
                             <td><button class="pc-app-id btn btn-warning" >Not Set Yet</button></td>
                          <% elsif project_control.status == 'Not Applicable' %>
                             <td><button class="pc-app-id btn btn-primary" >Not Applicable</button></td>
                          <% elsif project_control.status == 'Applicable - Configurable' %>
                             <td><button class="pc-app-id btn btn-success" >Applicable - Configurable</button></td>
                          <% elsif project_control.status == 'Applicable - Does Not Meet' %>
                             <td><button class="pc-app-id btn btn-danger" >Applicable - Does Not Meet</button></td>
                          <% elsif project_control.status == 'Applicable - Inherently Meets' %>
                             <td><button class="pc-app-id btn btn-danger" >Applicable - Inherently Meets</button></td>
                          <% end %>
                          <td><%= project_control.title %></td>
                          <td><%= project_control.impact %></td>
                          <td><%= project_control.nist_controls.collect {|nist| nist.family + '-' + nist.index }%></td>
                          <td>
                            <div class="button-list">
                                <!-- Large modal -->
                                <!-- <button type="button" class="btn btn-info waves-effect waves-light" data-toggle="modal" data-target=".<%= counter %>">Edit Control</button> -->
                                <%= link_to 'Edit Control', edit_project_control_path(project_control), data: { modal: true } %>
                            </div>
                          </td>
                      </tr>
                      <% counter += 1 %>
                    <% end %>
                </tbody>
                <tfoot>
                  <tr class="active">
                      <td colspan="5">
                          <div class="text-right">
                              <ul class="pagination pagination-split justify-content-end footable-pagination m-t-10 m-b-0"></ul>
                          </div>
                      </td>
                  </tr>
                </tfoot>
            </table>
        </div>
        <%= link_to 'Back', projects_path %>
    </div>
</div>
